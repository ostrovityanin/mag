
export type DruidSign = {
  id: string;
  name: string;
  emoji: string;
  description: string;
  // –ö–∞–∂–¥—ã–π –∑–Ω–∞–∫ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–≤–∞ –∏–ª–∏ —Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ø–±–ª–æ–Ω—è)
  ranges: { start: string; end: string }[];
};

// –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è 5 –∑–Ω–∞–∫–æ–≤ (–¥–æ–±–∞–≤–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏):
export const DRUID_SIGNS: DruidSign[] = [
  {
    id: "beech",
    name: "–ë—É–∫",
    emoji: "‚ùÑÔ∏è",
    description: `–ë—É–∫ (21 –¥–µ–∫–∞–±—Ä—è ‚Äì –î–µ–Ω—å –∑–∏–º–Ω–µ–≥–æ —Å–æ–ª–Ω—Ü–µ—Å—Ç–æ—è–Ω–∏—è). –°–∏–º–≤–æ–ª –º—É–¥—Ä–æ—Å—Ç–∏, —Å—Ç–æ–π–∫–æ—Å—Ç–∏ –∏ –∑–∏–º–Ω–µ–π —Å–æ–∑–µ—Ä—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –û–ª–∏—Ü–µ—Ç–≤–æ—Ä—è–µ—Ç –≤–µ–ª–∏—á–∏–µ, —Ä–∞—Å—Å—É–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å–≤—è–∑—å —Å –¥—Ä–µ–≤–Ω–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏.`,
    ranges: [{ start: "12-21", end: "12-21" }],
  },
  {
    id: "apple",
    name: "–Ø–±–ª–æ–Ω—è",
    emoji: "üçé",
    description: `–Ø–±–ª–æ–Ω—è (22 –¥–µ–∫–∞–±—Ä—è ‚Äì 1 —è–Ω–≤–∞—Ä—è –∏ 22 –∏—é–Ω—è ‚Äì 4 –∏—é–ª—è). –°–∏–º–≤–æ–ª –ª—é–±–≤–∏, –∏–∑–æ–±–∏–ª–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. –õ—é–¥–∏ —ç—Ç–æ–≥–æ –∑–Ω–∞–∫–∞ ‚Äî –¥—É—à–µ–≤–Ω—ã–µ, –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã–µ –∏ –∑–∞–±–æ—Ç–ª–∏–≤—ã–µ.`,
    ranges: [
      { start: "12-22", end: "01-01" },
      { start: "06-22", end: "07-04" },
    ],
  },
  {
    id: "fir",
    name: "–ü–∏—Ö—Ç–∞ (–µ–ª—å)",
    emoji: "üéÑ",
    description: `–ü–∏—Ö—Ç–∞ (2 ‚Äì 11 —è–Ω–≤–∞—Ä—è –∏ 5 ‚Äì 14 –∏—é–ª—è). –°–∏–º–≤–æ–ª —Å–≤–µ—Ç–∞, –≤–µ—á–Ω–æ–π –∂–∏–∑–Ω–∏ –∏ –Ω–∞–¥–µ–∂–¥—ã. –û—Ç–ª–∏—á–∞—é—Ç—Å—è –∞–º–±–∏—Ü–∏–æ–∑–Ω–æ—Å—Ç—å—é, —Å–∞–º–æ–æ—Ç–≤–µ—Ä–∂–µ–Ω–Ω–æ—Å—Ç—å—é –∏ –ø—Ä–æ–Ω–∏—Ü–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.`,
    ranges: [
      { start: "01-02", end: "01-11" },
      { start: "07-05", end: "07-14" },
    ],
  },
  {
    id: "elm",
    name: "–í—è–∑",
    emoji: "‚öñÔ∏è",
    description: `–í—è–∑ (12 ‚Äì 24 —è–Ω–≤–∞—Ä—è –∏ 15 ‚Äì 25 –∏—é–ª—è). –°–∏–º–≤–æ–ª —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.`,
    ranges: [
      { start: "01-12", end: "01-24" },
      { start: "07-15", end: "07-25" },
    ],
  },
  {
    id: "cypress",
    name: "–ö–∏–ø–∞—Ä–∏—Å",
    emoji: "ü§ù",
    description: `–ö–∏–ø–∞—Ä–∏—Å (25 —è–Ω–≤–∞—Ä—è ‚Äì 3 —Ñ–µ–≤—Ä–∞–ª—è –∏ 26 –∏—é–ª—è ‚Äì 4 –∞–≤–≥—É—Å—Ç–∞). –°–∏–º–≤–æ–ª –≤–µ—Ä–Ω–æ—Å—Ç–∏, —É–º–µ–Ω–∏—è –ø—Ä–∏—Å–ø–æ—Å–∞–±–ª–∏–≤–∞—Ç—å—Å—è, —Å–º–µ–ª–æ—Å—Ç–∏.`,
    ranges: [
      { start: "01-25", end: "02-03" },
      { start: "07-26", end: "08-04" },
    ],
  },
  // ... –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ 16 –∑–Ω–∞–∫–æ–≤ –ø–æ –≤–∞—à–µ–º—É —Ç–µ–∫—Å—Ç—É!
];


/**
 * –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ö–æ–¥–∏—Ç –ª–∏ –¥–∞—Ç–∞ (–º–µ—Å—è—Ü-–¥–µ–Ω—å) –º–µ–∂–¥—É start –∏ end (start –∏ end –º–æ–≥—É—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –≥–æ–¥–∞—Ö)
 */
function isInRange(date: string, start: string, end: string): boolean {
  // date, start, end —Ñ–æ—Ä–º–∞—Ç–∞ MM-DD –∏–ª–∏ DD-MM, –∑–¥–µ—Å—å –ø—Ä–∏–≤–µ–¥—ë–º –≤—Å—ë –∫ MM-DD.
  // –ï—Å–ª–∏ –ø–µ—Ä–∏–æ–¥ –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —Å–º–µ–Ω—É –≥–æ–¥–∞:
  if (start <= end) {
    return date >= start && date <= end;
  }
  // –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ù–æ–≤—ã–π –≥–æ–¥, –Ω–∞–ø—Ä–∏–º–µ—Ä: 12-22 - 01-01
  return date >= start || date <= end;
}

/**
 * –ù–∞—Ö–æ–¥–∏—Ç –∑–Ω–∞–∫ –¥—Ä—É–∏–¥—Å–∫–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –ø–æ –¥–∞—Ç–µ
 * @param birth - –¥–∞—Ç–∞ JS Date
 * @returns DruidSign | null
 */
export function getDruidSign(birth: Date): DruidSign | null {
  const m = birth.getMonth() + 1;
  const d = birth.getDate();
  // –§–æ—Ä–º–∞—Ç MM-DD —Å –≤–µ–¥—É—â–∏–º 0
  const md = `${m.toString().padStart(2, "0")}-${d.toString().padStart(2, "0")}`;
  for (const sign of DRUID_SIGNS) {
    for (const { start, end } of sign.ranges) {
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 12-22 - 01-01 –∏–ª–∏ 07-05 - 07-14)
      if (isInRange(md, start, end)) return sign;
    }
  }
  return null;
}
